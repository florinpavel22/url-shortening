(()=>{var e=document.querySelector(".url-shortening form"),t=document.querySelector(".url-shortening .input"),n=document.querySelector(".shorten"),r=document.querySelector(".error"),a=document.querySelector(".results"),o=document.querySelector(".mobile-menu"),c=document.querySelector(".hamburger-menu");e.addEventListener("submit",(function(a){if(a.preventDefault(),""===t.value)r.classList.add("show"),t.classList.add("warning");else{n.innerHTML='<i class="fa fa-circle-o-notch fa-spin"></i> Loading';var o="https://api.shrtco.de/v2/shorten?url=".concat(t.value);fetch(o).then((function(e){return e.json()})).then((function(e){return s(e)})),e.reset()}})),t.addEventListener("focus",(function(e){t.classList.contains("warning")&&(r.classList.remove("show"),t.classList.remove("warning"))}));var s=function(e){var t=document.createElement("div");t.classList.add("result");var r=document.createElement("a");r.setAttribute("href","".concat(e.result.original_link)),r.classList.add("main-url"),r.textContent="".concat(e.result.original_link);var o=document.createElement("div");o.classList.add("short-url");var c=document.createElement("a");c.setAttribute("href","".concat(e.result.full_short_link)),c.textContent="".concat(e.result.full_short_link);var s=document.createElement("button");s.classList.add("btn"),s.classList.add("copy-btn"),s.textContent="Copy",o.append(c),o.append(s),t.append(r),t.append(o),a.append(t),n.innerHTML="Shorten it!"};a.addEventListener("click",(function(e){if(e.target.classList.contains("copy-btn")){var t=e.target.parentElement,n=document.createElement("textarea");n.value=e.target.previousElementSibling.textContent,t.append(n),n.select(),document.execCommand("copy"),n.remove(),e.target.textContent="Copied",e.target.classList.add("copied"),setTimeout((function(){e.target.textContent="Copy",e.target.classList.remove("copied")}),1500)}})),c.addEventListener("click",(function(){o.classList.toggle("open")}))})();